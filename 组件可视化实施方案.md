# 组件可视化方案

### 1. 技术栈

- vue3+ts+自定义组件库
- 编译打包:vite

### 2. minto 组件库使用 npm 打包

方面组件可视化导入 npm 包，不需要通过组件库打包导入。方便维护和管理组件


### 3. 组件可视化基本框架及主要功能（优先）

> 导航栏

1. 页面的预览，代码生成器(生成 html 代码)等功能

> 右侧组件库

1. 展示 minto 组件及自定义组件，方便操作人员快速查找并使用组件

> 中间画布

1. 盛放组件实时展示组件及页面整体效果，
2. 组件的添加和删除

> 左侧组件属性及数据源

1. 组件的属性和事件。
2. 数据源。

### 4. 组件的拖拽

组件从组件库拖拽到画布上，组件可以在画布上自由移动。

### 5. 组件的旋转

组件可以在画布上自由旋转。

### 6. 组件在画布上放大缩小

点击画布上的组件时，组件上会出现 8 个小圆点。这 8 个小圆点就是用来放大缩小用的。

### 7. 组件在画布上的层级

拖拽组件到画布中是有先后顺序的，所以可以按照数据顺序来分配图层层级。
通过改变 z-index 控制层级

### 8. 复制粘贴剪切

在画布中进行组件的复制粘贴剪切功能。方便人员操作,不用反复从组件库中选择组件。

### 9. 数据交互

通过 mock 等方式定义 api 接口和数据结构,模拟从服务端拉取数据。

### 10. 撤消、重做

操作记录的保存，通过保存编辑器的快照数据。
设置以下几个动作会触发保存快照操作：

- 新增组件
- 删除组件
- 改变图层层级
- 拖动组件结束时

### 11. 组件在画布上的吸附

拖拽组件时，如果它和另一个组件的距离比较接近，就会自动吸附在一起。

### 12. 多个组件的组合和拆分

组合和拆分的技术点相共有以下 4 个：

- 选中区域
- 组合后的移动、旋转
- 组合后的放大缩小
- 拆分后子组件样式的恢复

### 13. 绑定动画

包括但不限于组件的加载动画,hover 动画,进场动画,离场动画等。建议使用第三方动画库。

### 14. 手机模式

不仅仅可以做 pc 页面也可以做手机页面。

### 15. 快捷键

快捷键主要是为了提升开发效率。
